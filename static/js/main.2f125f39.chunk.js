(this.webpackJsonpfilms=this.webpackJsonpfilms||[]).push([[0],{30:function(e,t,c){},31:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(20),i=c.n(r),s=c(10),o=c.n(s),l=c(14),u=c(11),j=(c(30),c(31),c(7)),d=c(1);function m(e){var t=e.id,c=e.imgUrl,a=e.title,n=e.year,r=e.genres,i=e.summary;return Object(d.jsx)("div",{className:"card",children:Object(d.jsxs)(j.b,{to:{pathname:"/movie/".concat(t),state:{id:t,imgUrl:c,title:a,year:n,genres:r,summary:i}},children:[Object(d.jsx)("div",{className:"card-top",children:Object(d.jsx)("img",{src:c,alt:"poster"})}),Object(d.jsxs)("div",{className:"card-bottom",children:[Object(d.jsx)("p",{className:"card-title",children:a}),Object(d.jsx)("p",{className:"card-year",children:n}),Object(d.jsx)("p",{className:"card-genres",children:r}),Object(d.jsx)("p",{className:"card-summary",children:i.slice(0,140)})]})]})})}var b=c(23),v=c(24),O=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,null,[{key:"getAllPosts",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,c,a,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:10,c=r.length>1&&void 0!==r[1]?r[1]:1,e.next=4,fetch("https://yts.mx/api/v2/list_movies.json?limit=".concat(t,"&page=").concat(c));case 4:return a=e.sent,n=a.json(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();c(38);function h(){return Object(d.jsx)("div",{className:"loader-wrapper",children:Object(d.jsx)("div",{className:"loader"})})}function p(e,t){return Math.ceil(e/t)}var f=c(9);function g(e,t){for(var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=e,n=[];a<=t;)n.push(a),a+=c;return n}c(39);function x(e){var t=e.total,c=e.current,a=e.pagePerview,n=void 0===a?0:a,r=e.rightClick,i=e.leftClick,s=e.pageClick,o=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a="LEFT",n="RIGHT",r=2*c+3;if(e>r+2){var i=Math.max(2,t-c),s=Math.min(e-1,t+c),o=g(i,s);console.log(s),console.log("start".concat(i));var l=i>2,u=e-s>1,j=r-(o.length+1);switch(!0){case l&&!u:var d=g(i-j,i-1);o=[a].concat(Object(f.a)(d),Object(f.a)(o));break;case!l&&u:var m=g(s+1,s+j);o=[].concat(Object(f.a)(o),Object(f.a)(m),[n]);break;default:o=[a].concat(Object(f.a)(o),[n])}return[1].concat(Object(f.a)(o),[e])}return g(1,e)}(t,c,n);return console.log("current:".concat(c)),Object(d.jsx)("div",{className:"pagination",children:o.map((function(e,t){return"LEFT"===e?Object(d.jsx)("div",{className:"pagination-element","data-value":e,onClick:i,children:e},t):"RIGHT"===e?Object(d.jsx)("div",{className:"pagination-element","data-value":e,onClick:r,children:e},t):Object(d.jsx)("div",{className:"pagination-element","data-value":e,onClick:s,children:e},t)}))})}c(40);function y(){return Object(d.jsxs)("div",{className:"nav",children:[Object(d.jsx)(j.b,{to:"/",children:" \u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(d.jsx)(j.b,{to:"/about",children:" \u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})]})}var N=c(2),k=[{path:"/",component:function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)([]),i=Object(u.a)(r,2),s=i[0],j=i[1],b=Object(a.useState)(10),v=Object(u.a)(b,2),f=v[0],g=(v[1],Object(a.useState)(1)),y=Object(u.a)(g,2),N=y[0],k=y[1],w=Object(a.useState)(0),C=Object(u.a)(w,2),S=C[0],E=C[1],U=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O.getAllPosts(f,N),e.next=3,t;case 3:c=e.sent,a=c.data,j(a.movies),E(p(a.movie_count,f)),n(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){U()}),[N]),c?Object(d.jsx)(h,{}):Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("div",{className:"cards",children:s.map((function(e){return Object(d.jsx)(m,{id:e.id,imgUrl:e.medium_cover_image,title:e.title,year:e.year,genres:e.genres,summary:e.summary},e.id)}))}),Object(d.jsx)(x,{total:S,current:N,pagePerview:0,rightClick:function(e){console.log(e.target.dataset.value)},leftClick:function(e){console.log(e.target.dataset.value)},pageClick:function(e){console.log(e.target.dataset.value),k(e.target.dataset.value)}})]})},exact:!0},{path:"/about",component:function(){return Object(d.jsx)("div",{children:"Ab"})},exact:!0},{path:"/movie/:id",component:function(e){var t=e.location.state;return Object(a.useEffect)((function(){void 0===t&&e.history.push("/")}),[]),void 0===t?0:(console.log(t),Object(d.jsx)("div",{className:"container",children:Object(d.jsx)(m,{id:t.id,imgUrl:t.imgUrl,title:t.title,year:t.year,genres:t.genres,summary:t.summary})}))},exact:!0}];c(41);var w=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(j.a,{children:[Object(d.jsx)(y,{}),k.map((function(e){return Object(d.jsx)(N.a,{component:e.component,path:e.path,exact:e.exact})}))]})})};i.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.2f125f39.chunk.js.map