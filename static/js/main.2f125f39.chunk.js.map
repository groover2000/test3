{"version":3,"sources":["components/Card/Card.js","api/getFetch.js","components/Loader/Loader.jsx","helpers/getPageCount.js","helpers/range.js","components/pagination/paginationRender.jsx","components/pagination/pagination.js","components/Navigation/Navigation.jsx","routes/index.js","router/RouterHome/RouterHome.js","components/About/About.jsx","components/Details/Detail.js","App.js","index.js"],"names":["Card","id","imgUrl","title","year","genres","summary","className","to","pathname","state","src","alt","slice","FetchRequest","limit","page","fetch","response","res","json","Loader","getPageCount","totalCount","Math","ceil","range","from","step","i","push","RenderPagination","total","current","pagePerview","rightClick","leftClick","pageClick","arr","totalPages","currentPage","pagePerView","LEFT_PAGE","RIGHT_PAGE","totalNumbers","startPage","max","endPage","min","pages","console","log","hasLeftSpill","hasRightSpill","spillOffset","length","extraPages","pagination","map","el","onClick","Navigation","routes","path","component","useState","loading","setLoading","movies","setMovies","setPage","setTotalPages","getFilms","a","posts","getAllPosts","data","movie_count","useEffect","medium_cover_image","e","target","dataset","value","exact","props","location","undefined","history","App","route","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sUAgBA,SAASA,EAAT,GAA6D,IAA7CC,EAA4C,EAA5CA,GAAIC,EAAwC,EAAxCA,OAAQC,EAAgC,EAAhCA,MAAOC,EAAyB,EAAzBA,KAAMC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,QAE7C,OAAQ,qBAAKC,UAAU,OAAf,SACJ,eAAC,IAAD,CACIC,GAAI,CACAC,SAAS,UAAD,OAAYR,GACpBS,MAAO,CACHT,KACAC,SACAC,QACAC,OACAC,SACAC,YATZ,UAcI,qBAAKC,UAAU,WAAf,SACI,qBAAKI,IAAKT,EAAQU,IAAI,aAE1B,sBAAKL,UAAU,cAAf,UACI,mBAAGA,UAAU,aAAb,SAA2BJ,IAC3B,mBAAGI,UAAU,YAAb,SAA0BH,IAC1B,mBAAGG,UAAU,cAAb,SAA4BF,IAC5B,mBAAGE,UAAU,eAAb,SAA6BD,EAAQO,MAAM,EAAG,e,oBCvCvDC,E,uIAEL,6GAA0BC,EAA1B,+BAAkC,GAAIC,EAAtC,+BAA6C,EAA7C,SAC+BC,MAAM,gDAAD,OAAiDF,EAAjD,iBAA+DC,IADnG,cACYE,EADZ,OAGYC,EAAMD,EAASE,OAH3B,kBAIaD,GAJb,2C,mECAF,SAASE,IACL,OAAO,qBAAKd,UAAU,iBAAf,SACH,qBAAKA,UAAU,aCLvB,SAASe,EAAaC,EAAYR,GAC9B,OAAOS,KAAKC,KAAKF,EAAaR,G,WCAlC,SAASW,EAAMC,EAAMnB,GAIjB,IAJgC,IAAXoB,EAAU,uDAAH,EACxBC,EAAIF,EACFD,EAAQ,GAEPG,GAAKrB,GACRkB,EAAMI,KAAKD,GACXA,GAAKD,EAET,OAAOF,E,MCLX,SAASK,EAAT,GAAkG,IAAtEC,EAAqE,EAArEA,MAAOC,EAA8D,EAA9DA,QAA8D,IAArDC,mBAAqD,MAAvC,EAAuC,EAApCC,EAAoC,EAApCA,WAAYC,EAAwB,EAAxBA,UAAWC,EAAa,EAAbA,UAC5EC,ECHR,SAAoBC,EAAYC,GAA+B,IAAlBC,EAAiB,uDAAH,EACjDC,EAAY,OACZC,EAAa,QAEbC,EAA6B,EAAbH,EAAkB,EAKxC,GAAGF,EAJiBK,EAAe,EAIP,CACxB,IAAMC,EAAYrB,KAAKsB,IAAI,EAAGN,EAAcC,GACtCM,EAAUvB,KAAKwB,IAAIT,EAAW,EAAGC,EAAcC,GACjDQ,EAAQvB,EAAMmB,EAAWE,GAC7BG,QAAQC,IAAIJ,GACZG,QAAQC,IAAR,eAAoBN,IAEpB,IAAMO,EAAeP,EAAY,EAC3BQ,EAAiBd,EAAaQ,EAAW,EACzCO,EAAcV,GAAgBK,EAAMM,OAAS,GAEnD,QAAO,GACH,KAAMH,IAAiBC,EACnB,IAAMG,EAAa9B,EAAMmB,EAAYS,EAAaT,EAAU,GAC5DI,EAAK,CAAIP,GAAJ,mBAAkBc,GAAlB,YAAiCP,IACtC,MAEJ,KAAOG,GAAgBC,EACnB,IAAMG,EAAa9B,EAAMqB,EAAU,EAAGA,EAAUO,GAChDL,EAAK,sBAAOA,GAAP,YAAiBO,GAAjB,CAA6Bb,IAClC,MAGJ,QAEIM,EAAK,CAAIP,GAAJ,mBAAkBO,GAAlB,CAAyBN,IAKtC,MAAM,CAAE,GAAR,mBAAcM,GAAd,CAAqBV,IAGzB,OAAOb,EAAM,EAAGa,GDvCNkB,CAAWzB,EAAOC,EAASC,GAGrC,OADAgB,QAAQC,IAAR,kBAAuBlB,IAChB,qBAAK1B,UAAU,aAAf,SACF+B,EAAIoB,KAAI,SAACC,EAAI9B,GACV,MAAW,SAAP8B,EACO,qBAAKpD,UAAU,qBAA6B,aAAYoD,EAAIC,QAASxB,EAArE,SAAiFuB,GAAxC9B,GAEzC,UAAP8B,EACO,qBAAKpD,UAAU,qBAA6B,aAAYoD,EAAIC,QAASzB,EAArE,SAAkFwB,GAAzC9B,GAE7C,qBAAKtB,UAAU,qBAA6B,aAAYoD,EAAIC,QAASvB,EAArE,SAAiFsB,GAAxC9B,Q,MEZ5D,SAASgC,IACL,OAAO,sBAAKtD,UAAU,MAAf,UACH,cAAC,IAAD,CAAMC,GAAG,IAAT,yDACA,cAAC,IAAD,CAAMA,GAAG,SAAT,mE,WCHFsD,EAAS,CACX,CAACC,KAAM,IAAKC,UCKhB,WACI,MAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA4BF,mBAAS,IAArC,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAA0BJ,mBAAS,IAAnC,mBAAOlD,EAAP,KACA,GADA,KACwBkD,mBAAS,IAAjC,mBAAOjD,EAAP,KAAasD,EAAb,KACA,EAAoCL,mBAAS,GAA7C,mBAAO1B,EAAP,KAAmBgC,EAAnB,KAGMC,EAAQ,uCAAG,gCAAAC,EAAA,6DACPC,EAAQ5D,EAAa6D,YAAY5D,EAAOC,GADjC,SAEQ0D,EAFR,gBAENE,EAFM,EAENA,KACPP,EAAUO,EAAKR,QACfG,EAAejD,EAAasD,EAAKC,YAAa9D,IAC9CoD,GAAW,GALE,2CAAH,qDA0Bd,OAPAW,qBAAU,WACPN,MAED,CAACxD,IAIAkD,EACQ,cAAC,EAAD,IAEJ,sBAAK3D,UAAY,YAAjB,UACP,qBAAKA,UAAU,QAAf,SACC6D,EAAOV,KAAI,SAACC,GACV,OAAO,cAAC,EAAD,CAEP1D,GAAM0D,EAAG1D,GACTC,OAAUyD,EAAGoB,mBACb5E,MAASwD,EAAGxD,MACZC,KAAQuD,EAAGvD,KACXC,OAAUsD,EAAGtD,OACbC,QAAWqD,EAAGrD,SANPqD,EAAG1D,SAUb,cAAC8B,EAAD,CACAC,MAASO,EACTN,QAAWjB,EACXkB,YAAe,EACfC,WAvCmB,SAAC6C,GAChB9B,QAAQC,IAAI6B,EAAEC,OAAOC,QAAQC,QAuCjC/C,UArCkB,SAAC4C,GACf9B,QAAQC,IAAI6B,EAAEC,OAAOC,QAAQC,QAqCjC9C,UAnCkB,SAAC2C,GACf9B,QAAQC,IAAI6B,EAAEC,OAAOC,QAAQC,OAC7Bb,EAAQU,EAAEC,OAAOC,QAAQC,cD7BMC,OAAO,GAC1C,CAACrB,KAAM,SAAUC,UEHrB,WACI,OAAO,sCFE4BoB,OAAO,GAC1C,CAACrB,KAAM,aAAcC,UGJzB,SAAgBqB,GACZ,IAAMT,EAAOS,EAAMC,SAAS5E,MAQ5B,OANAoE,qBAAU,gBACMS,IAATX,GACCS,EAAMG,QAAQ1D,KAAK,OAExB,SAESyD,IAATX,EACQ,GAEP1B,QAAQC,IAAIyB,GACL,qBAAKrE,UAAW,YAAhB,SACH,cAAC,EAAD,CACAN,GAAM2E,EAAK3E,GACXC,OAAU0E,EAAK1E,OACfC,MAASyE,EAAKzE,MACdC,KAAQwE,EAAKxE,KACbC,OAAUuE,EAAKvE,OACfC,QAAWsE,EAAKtE,cHhBgB8E,OAAO,I,MIgBpCK,MAbf,WACI,OAAO,mCACP,eAAC,IAAD,WACI,cAAC,EAAD,IACH3B,EAAOJ,KAAI,SAACgC,GACV,OAAO,cAAC,IAAD,CAAO1B,UAAa0B,EAAM1B,UAAWD,KAAQ2B,EAAM3B,KAAMqB,MAASM,EAAMN,iBCVtFO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.2f125f39.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Card.css\"\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nCard.propTypes = {\r\n\r\n    imgUrl: PropTypes.string.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    year: PropTypes.number.isRequired,\r\n    genres: PropTypes.arrayOf(PropTypes.string)\r\n\r\n}\r\n\r\n\r\nfunction Card({ id, imgUrl, title, year, genres, summary }) {\r\n\r\n    return (<div className=\"card\">\r\n        <Link\r\n            to={{\r\n                pathname: `/movie/${id}`,\r\n                state: {\r\n                    id,\r\n                    imgUrl,\r\n                    title,\r\n                    year,\r\n                    genres,\r\n                    summary\r\n                }\r\n\r\n            }}>\r\n\r\n            <div className=\"card-top\" >\r\n                <img src={imgUrl} alt=\"poster\" />\r\n            </div>\r\n            <div className=\"card-bottom\">\r\n                <p className=\"card-title\">{title}</p>\r\n                <p className=\"card-year\">{year}</p>\r\n                <p className=\"card-genres\">{genres}</p>\r\n                <p className=\"card-summary\">{summary.slice(0, 140)}</p>\r\n            </div>\r\n\r\n        </Link>\r\n    </div>\r\n    )\r\n}\r\n\r\n\r\nexport { Card }","\r\n class FetchRequest {\r\n    \r\n  static  async getAllPosts(limit = 10, page = 1) {\r\n        const response =  (await fetch(`https://yts.mx/api/v2/list_movies.json?limit=${limit}&page=${page}`))\r\n        // const {data: {movies}} = await response.json()\r\n        const res = response.json()\r\n        return res;\r\n    }\r\n  \r\n }\r\n\r\nexport {FetchRequest}\r\n","\r\nimport \"./Loader.css\"\r\n\r\nfunction Loader() {\r\n    return <div className=\"loader-wrapper\">\r\n        <div className=\"loader\">\r\n\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport { Loader }","function getPageCount(totalCount, limit) {\r\n    return Math.ceil(totalCount / limit)\r\n}\r\n\r\nexport {getPageCount}","\r\nfunction range(from, to, step = 1) {\r\n    let i = from;\r\n    const range = [];\r\n\r\n    while (i <= to) {\r\n        range.push(i);\r\n        i += step\r\n    }\r\n    return range\r\n}\r\n\r\nexport {range}","import React from \"react\";\r\nimport { pagination } from \"./pagination\"\r\nimport \"./pagination.css\"\r\n\r\nfunction RenderPagination({ total, current, pagePerview = 0, rightClick, leftClick, pageClick }) {\r\n    let arr = pagination(total, current, pagePerview)\r\n    //state на куррент\r\n    console.log(`current:${current}`);\r\n    return <div className=\"pagination\">\r\n        {arr.map((el, i) => {\r\n            if (el === 'LEFT') {\r\n                return <div className=\"pagination-element\" key={i} data-value={el} onClick={leftClick}>{el}</div>\r\n            }\r\n            if (el === \"RIGHT\") {\r\n                return <div className=\"pagination-element\" key={i} data-value={el} onClick={rightClick}>{el}</div>\r\n            }\r\n            return <div className=\"pagination-element\" key={i} data-value={el} onClick={pageClick}>{el}</div>\r\n\r\n        })}\r\n\r\n    </div>\r\n}\r\n\r\nexport { RenderPagination }","import {range} from \"../../helpers/range\"\r\n\r\nfunction pagination(totalPages, currentPage, pagePerView = 0) {\r\n    const LEFT_PAGE = 'LEFT';\r\n    const RIGHT_PAGE = 'RIGHT';\r\n\r\n    const totalNumbers = (pagePerView *2) + 3;      //  totalNumbers: the total page numbers to show on the control                 \r\n    const totalBlocks = totalNumbers + 2;         //  totalBlocks: totalNumbers + 2 to cover for the left(<) and right(>) controls\r\n     \r\n   \r\n\r\n    if(totalPages > totalBlocks){\r\n        const startPage = Math.max(2, currentPage - pagePerView);\r\n        const endPage = Math.min(totalPages-1, currentPage + pagePerView);\r\n        let pages = range(startPage, endPage);\r\n        console.log(endPage)\r\n        console.log(`start${startPage}`)\r\n\r\n        const hasLeftSpill = startPage > 2;                     // * hasLeftSpill: has hidden pages to the left\r\n        const hasRightSpill = (totalPages - endPage) > 1;       // * hasRightSpill: has hidden pages to the right\r\n        const spillOffset = totalNumbers - (pages.length + 1);  // * spillOffset: number of hidden pages either to the left or to the right\r\n\r\n        switch(true) {\r\n            case (hasLeftSpill && !hasRightSpill): {\r\n                const extraPages = range(startPage - spillOffset, startPage-1);\r\n                pages = [LEFT_PAGE, ...extraPages, ...pages];\r\n                break;\r\n            }\r\n            case (!hasLeftSpill && hasRightSpill): {\r\n                const extraPages = range(endPage  +1, endPage + spillOffset);\r\n                pages = [...pages, ...extraPages, RIGHT_PAGE];\r\n                break;\r\n            }\r\n            case (hasLeftSpill && hasRightSpill): \r\n            default: {\r\n                // const extraPages = range(startPage, endPage)\r\n                pages = [LEFT_PAGE, ...pages, RIGHT_PAGE];\r\n                break;\r\n            }\r\n        }\r\n\r\n        return [1, ...pages, totalPages];\r\n        \r\n    }\r\n    return range(1, totalPages);\r\n}\r\n\r\n\r\nexport {pagination}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Navigation.css\"\r\n\r\nfunction Navigation() {\r\n    return <div className=\"nav\">\r\n        <Link to=\"/\"> Главная</Link>\r\n        <Link to=\"/about\"> О проекте</Link>\r\n\r\n    </div>\r\n}\r\n\r\nexport { Navigation }","import {RouterHome} from '../router/RouterHome/RouterHome'\r\nimport {About} from \"../components/About/About\"\r\nimport {Detail} from '../components/Details/Detail'\r\n\r\nconst routes = [\r\n    {path: '/', component: RouterHome, exact: true },\r\n    {path: '/about', component: About, exact: true },\r\n    {path: '/movie/:id', component: Detail, exact: true },\r\n]\r\n\r\nexport {routes}","import {React, useState, useEffect} from \"react\";\r\nimport './RouterHome.css';\r\nimport { Card } from \"../../components/Card/Card\";\r\nimport {FetchRequest} from \"../../api/getFetch\"\r\nimport {Loader} from \"../../components/Loader/Loader\"\r\nimport {getPageCount} from \"../../helpers/getPageCount\"\r\nimport {pagination} from \"../../components/pagination/pagination\"\r\nimport {RenderPagination} from \"../../components/pagination/paginationRender\"\r\n\r\n\r\nfunction RouterHome(){\r\n    const [loading, setLoading] = useState(true);\r\n    const [movies, setMovies] = useState([])\r\n    const [limit, setLimit] = useState(10);\r\n    const [page, setPage] = useState(1);\r\n    const [totalPages, setTotalPages] = useState(0);\r\n    // let arr = pagination(totalPages, page);\r\n\r\n    const getFilms = async () => {\r\n        const posts = FetchRequest.getAllPosts(limit, page)\r\n        const {data} = await posts;\r\n        setMovies(data.movies)\r\n        setTotalPages( getPageCount(data.movie_count, limit)) \r\n        setLoading(false);\r\n    }\r\n   \r\n    const rightClick = (e) => {\r\n        console.log(e.target.dataset.value)\r\n    }\r\n    const leftClick = (e) => {\r\n        console.log(e.target.dataset.value)\r\n    }\r\n    const pageClick = (e) => {\r\n        console.log(e.target.dataset.value)\r\n        setPage(e.target.dataset.value)\r\n        \r\n    }\r\n    useEffect(() => {\r\n       getFilms()\r\n \r\n    },[page] )\r\n\r\n    \r\n\r\n    if(loading) {\r\n        return <Loader/>\r\n    }\r\n    return <div className = 'container'> \r\n    <div className=\"cards\">\r\n    {movies.map((el)=> {\r\n       return <Card \r\n       key = {el.id} \r\n       id = {el.id}\r\n       imgUrl = {el.medium_cover_image}\r\n       title = {el.title}\r\n       year = {el.year}\r\n       genres = {el.genres}\r\n       summary = {el.summary}\r\n       />\r\n       \r\n    })}</div>\r\n    <RenderPagination\r\n    total = {totalPages}\r\n    current = {page}\r\n    pagePerview = {0}\r\n    rightClick = {rightClick}\r\n    leftClick = {leftClick}\r\n    pageClick = {pageClick}\r\n    ></RenderPagination>\r\n  \r\n </div>\r\n   \r\n     \r\n        \r\n    \r\n\r\n}\r\n\r\n\r\nexport {RouterHome}","import React from \"react\";\r\n\r\n\r\nfunction About() {\r\n    return <div>Ab</div>\r\n}\r\n\r\nexport { About }","import {React, useEffect} from \"react\";\r\nimport {Card} from \"../Card/Card\"\r\n\r\nfunction Detail(props) {\r\n    const data = props.location.state;\r\n\r\n    useEffect(() =>{\r\n        if(data === undefined) {\r\n            props.history.push('/')\r\n        }\r\n    }, [])\r\n\r\n    if(data === undefined) {\r\n        return 0;\r\n    }else {\r\n        console.log(data)\r\n        return <div className= \"container\">\r\n            <Card  \r\n            id = {data.id} \r\n            imgUrl = {data.imgUrl}\r\n            title = {data.title}\r\n            year = {data.year}\r\n            genres = {data.genres}\r\n            summary = {data.summary}>\r\n         \r\n            </Card>\r\n        </div>\r\n    }\r\n    \r\n}\r\n\r\nexport {Detail}","import {React} from \"react\";\r\nimport {RouterHome} from './router/RouterHome/RouterHome'\r\nimport {About} from \"./components/About/About\"\r\nimport {Navigation} from \"./components/Navigation/Navigation\"\r\nimport {Detail} from \"./components/Details/Detail\"\r\nimport {HashRouter, Route} from 'react-router-dom';\r\nimport { routes } from \"./routes/index\";\r\n\r\nimport './App.css'\r\n\r\nfunction App() {\r\n    return <>\r\n    <HashRouter>\r\n        <Navigation/>\r\n    {routes.map((route)=>{\r\n       return <Route component = {route.component} path = {route.path} exact = {route.exact} />\r\n    })}\r\n    </HashRouter>\r\n    </>\r\n    }\r\n\r\n \r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}