(this.webpackJsonpfilms=this.webpackJsonpfilms||[]).push([[0],{30:function(e,t,c){},31:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(20),s=c.n(r),i=c(10),o=c.n(i),l=c(14),u=c(11),j=(c(30),c(31),c(7)),d=c(1);function b(e){var t=e.id,c=e.imgUrl,a=e.title,n=e.year,r=e.genres,s=e.summary;return Object(d.jsx)("div",{className:"card",children:Object(d.jsxs)(j.b,{to:{pathname:"/movie/".concat(t),state:{id:t,imgUrl:c,title:a,year:n,genres:r,summary:s}},children:[Object(d.jsx)("div",{className:"card-top",children:Object(d.jsx)("img",{src:c,alt:"poster"})}),Object(d.jsxs)("div",{className:"card-bottom",children:[Object(d.jsx)("p",{className:"card-title",children:a}),Object(d.jsx)("p",{className:"card-year",children:n}),Object(d.jsx)("p",{className:"card-genres",children:r}),Object(d.jsx)("p",{className:"card-summary",children:s.slice(0,140)})]})]})})}var m=c(23),v=c(24),O=function(){function e(){Object(m.a)(this,e)}return Object(v.a)(e,null,[{key:"getAllPosts",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,c,a,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:10,c=r.length>1&&void 0!==r[1]?r[1]:1,e.next=4,fetch("https://yts.mx/api/v2/list_movies.json?limit=".concat(t,"&page=").concat(c));case 4:return a=e.sent,n=a.json(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();c(38);function h(){return Object(d.jsx)("div",{className:"loader-wrapper",children:Object(d.jsx)("div",{className:"loader"})})}function f(e,t){return Math.ceil(e/t)}var p=c(9);function g(e,t){for(var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=e,n=[];a<=t;)n.push(a),a+=c;return n}c(39);function x(e){var t=e.total,c=e.current,a=e.pagePerview,n=void 0===a?0:a,r=e.rightClick,s=e.leftClick,i=e.pageClick,o=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a="LEFT",n="RIGHT",r=2*c+3;if(e>r+2){var s=Math.max(2,t-c),i=Math.min(e-1,t+c),o=g(s,i);console.log(i),console.log("start".concat(s));var l=s>2,u=e-i>1,j=r-(o.length+1);switch(!0){case l&&!u:var d=g(s-j,s-1);o=[a].concat(Object(p.a)(d),Object(p.a)(o));break;case!l&&u:var b=g(i+1,i+j);o=[].concat(Object(p.a)(o),Object(p.a)(b),[n]);break;default:g(s,i),o=[a].concat(Object(p.a)(o),[n])}return[1].concat(Object(p.a)(o),[e])}return g(1,e)}(t,c,n);return console.log("current:".concat(c)),Object(d.jsx)("div",{className:"pagination",children:o.map((function(e,t){return"LEFT"===e?Object(d.jsx)("div",{className:"pagination-element","data-value":e,onClick:s,children:e},t):"RIGHT"===e?Object(d.jsx)("div",{className:"pagination-element","data-value":e,onClick:r,children:e},t):Object(d.jsx)("div",{className:"pagination-element","data-value":e,onClick:i,children:e},t)}))})}function y(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)([]),s=Object(u.a)(r,2),i=s[0],j=s[1],m=Object(a.useState)(10),v=Object(u.a)(m,2),p=v[0],g=(v[1],Object(a.useState)(1)),y=Object(u.a)(g,2),N=y[0],k=y[1],w=Object(a.useState)(0),C=Object(u.a)(w,2),S=C[0],E=C[1],U=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O.getAllPosts(p,N),e.next=3,t;case 3:c=e.sent,a=c.data,j(a.movies),E(f(a.movie_count,p)),n(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){U()}),[N]),c?Object(d.jsx)(h,{}):Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("div",{className:"cards",children:i.map((function(e){return Object(d.jsx)(b,{id:e.id,imgUrl:e.medium_cover_image,title:e.title,year:e.year,genres:e.genres,summary:e.summary},e.id)}))}),Object(d.jsx)(x,{total:S,current:N,pagePerview:0,rightClick:function(e){console.log(e.target.dataset.value)},leftClick:function(e){console.log(e.target.dataset.value)},pageClick:function(e){console.log(e.target.dataset.value),k(e.target.dataset.value)}})]})}function N(){return Object(d.jsx)("div",{children:"Ab"})}c(40);function k(){return Object(d.jsxs)("div",{className:"nav",children:[Object(d.jsx)(j.b,{to:"/",children:" \u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(d.jsx)(j.b,{to:"/about",children:" \u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})]})}function w(e){var t=e.location.state;return Object(a.useEffect)((function(){void 0===t&&e.history.push("/")}),[]),void 0===t?0:(console.log(t),Object(d.jsx)("div",{className:"container",children:Object(d.jsx)(b,{id:t.id,imgUrl:t.imgUrl,title:t.title,year:t.year,genres:t.genres,summary:t.summary})}))}var C=c(2);c(41);var S=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(j.a,{children:[Object(d.jsx)(k,{}),Object(d.jsx)(C.a,{path:"/",component:y,exact:!0}),Object(d.jsx)(C.a,{path:"/about",component:N}),Object(d.jsx)(C.a,{path:"/movie/:id",component:w})]})})};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(S,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.da36c5cf.chunk.js.map