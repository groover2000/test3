(this.webpackJsonpfilms=this.webpackJsonpfilms||[]).push([[0],{27:function(e,t,c){},28:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(17),s=c.n(r),i=c(10),o=c.n(i),l=c(12),u=c(7),j=(c(27),c(28),c(8)),d=c(1);function m(e){var t=e.id,c=e.imgUrl,n=e.title,a=e.year,r=e.genres,s=e.summary;return Object(d.jsx)("div",{className:"card",children:Object(d.jsxs)(j.b,{to:{pathname:"/movie/".concat(t),state:{id:t,imgUrl:c,title:n,year:a,genres:r,summary:s}},children:[Object(d.jsx)("div",{className:"card-top",children:Object(d.jsx)("img",{src:c,alt:"poster"})}),Object(d.jsxs)("div",{className:"card-bottom",children:[Object(d.jsx)("p",{className:"card-title",children:n}),Object(d.jsx)("p",{className:"card-year",children:a}),Object(d.jsx)("p",{className:"card-genres",children:r}),Object(d.jsx)("p",{className:"card-summary",children:s.slice(0,140)})]})]})})}var b=c(20),O=c(21),p=function(){function e(){Object(b.a)(this,e)}return Object(O.a)(e,null,[{key:"getAllPosts",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,c,n,a,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:10,c=r.length>1&&void 0!==r[1]?r[1]:1,e.next=4,fetch("https://yts.mx/api/v2/list_movies.json?limit=".concat(t,"&page=").concat(c));case 4:return n=e.sent,a=n.json(),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();c(35);function h(){return Object(d.jsx)("div",{className:"loader-wrapper",children:Object(d.jsx)("div",{className:"loader"})})}function f(e,t){return Math.ceil(e/t)}c(36);var v=function(e){for(var t=e.totalPages,c=e.currentPage,a=e.pageClick,r=e.leftClick,s=e.rightClick,i=[],o=Object(n.useState)(5),l=Object(u.a)(o,2),j=l[0],m=(l[1],Object(n.useState)(5)),b=Object(u.a)(m,2),O=b[0],p=b[1],h=Object(n.useState)(0),f=Object(u.a)(h,2),v=f[0],x=f[1],g=1;g<=t;g++)i.push(g);var y=i.map((function(e){if(e<O+1&&e>v)return Object(d.jsx)("div",{"data-value":e,className:c==e?"active":"pagination-element",onClick:a,children:e},e)}));return c>O&&(p(O+j),x(v+j)),c-1<v&&(p(O-j),x(v-j)),Object(d.jsxs)("div",{className:"pagination",children:[Object(d.jsx)("div",{className:"pagination-element",onClick:r,children:"prev"}),y,Object(d.jsx)("div",{className:"pagination-element",onClick:s,children:"next"})]})};c(37);function x(){return Object(d.jsxs)("div",{className:"nav",children:[Object(d.jsx)(j.b,{to:"/",children:" \u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(d.jsx)(j.b,{to:"/about",children:" \u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})]})}var g=c(2),y=[{path:"/",component:function(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(u.a)(r,2),i=s[0],j=s[1],b=Object(n.useState)(10),O=Object(u.a)(b,2),x=O[0],g=(O[1],Object(n.useState)(1)),y=Object(u.a)(g,2),N=y[0],k=y[1],C=Object(n.useState)(0),S=Object(u.a)(C,2),w=S[0],P=S[1],U=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.getAllPosts(x,N),e.next=3,t;case 3:c=e.sent,n=c.data,j(n.movies),P(f(n.movie_count,x)),a(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){U()}),[N]),c?Object(d.jsx)(h,{}):Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("div",{className:"cards",children:i.map((function(e){return Object(d.jsx)(m,{id:e.id,imgUrl:e.medium_cover_image,title:e.title,year:e.year,genres:e.genres,summary:e.summary},e.id)}))}),Object(d.jsx)(v,{totalPages:w,itemsPerView:x,currentPage:N,pageClick:function(e){console.log(e.target.dataset.value),k(Number(e.target.dataset.value))},leftClick:function(e){console.log("left"),N>0&&k(N-1)},rightClick:function(e){console.log("right"),k(N+1)}})]})},exact:!0},{path:"/about",component:function(){return Object(d.jsx)("div",{children:"Ab"})},exact:!0},{path:"/movie/:id",component:function(e){var t=e.location.state;return Object(n.useEffect)((function(){void 0===t&&e.history.push("/")}),[]),void 0===t?0:(console.log(t),Object(d.jsx)("div",{className:"container",children:Object(d.jsx)(m,{id:t.id,imgUrl:t.imgUrl,title:t.title,year:t.year,genres:t.genres,summary:t.summary})}))},exact:!0}];c(38);var N=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(j.a,{children:[Object(d.jsx)(x,{}),y.map((function(e){return Object(d.jsx)(g.a,{component:e.component,path:e.path,exact:e.exact},e.path)}))]})})};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.fca3b25d.chunk.js.map